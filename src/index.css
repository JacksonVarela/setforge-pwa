@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme */
:root{
  color-scheme:dark;
  --bg:#0a0a0a; --bg-2:#111213; --text:#f5f5f5; --muted:#a3a3a3;
  --accent:#ef4444; --card:#121212; --border:#2a2a2a;
}
html,body,#root{height:100%}
html,body{
  background:var(--bg); color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}
.page{min-height:100svh} .fullscreen{min-height:100svh}

/* Backgrounds used on login/import */
.bg-login,.bg-import{background-size:cover;background-position:center;background-repeat:no-repeat}
.bg-login{background-image:url('/images/bg-anime-login.webp')}
.bg-import{background-image:url('/images/bg-anime-import.webp')}
.anime-overlay{position:relative}
.anime-overlay::after{content:"";position:absolute;inset:0;pointer-events:none;background:radial-gradient(120% 90% at 50% 10%,rgba(0,0,0,.15) 0%,rgba(0,0,0,.35) 45%,rgba(0,0,0,.65) 100%)}
.anime-overlay>*{position:relative;z-index:1}

/* Sticker */
.coach-sticker{position:fixed;right:max(1rem,env(safe-area-inset-right));bottom:max(1rem,env(safe-area-inset-bottom));width:clamp(84px,22vw,168px);aspect-ratio:1/1;background:url('/images/coach-sticker.webp') center/contain no-repeat;filter:drop-shadow(0 6px 14px rgba(0,0,0,.45));animation:floaty 5.5s ease-in-out infinite;pointer-events:none;z-index:30}
@keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}

/* Glass */
.glass{backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);background:rgba(10,10,10,.55);border:1px solid rgba(255,255,255,.06);border-radius:.9rem}
.glass-strong{backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);background:rgba(10,10,10,.72);border:1px solid rgba(255,255,255,.08);border-radius:1rem}

/* Controls */
.btn{@apply inline-flex items-center justify-center px-3 py-2 rounded-xl text-sm border transition;
  background:#181818;border-color:var(--border);min-height:44px}
.btn:hover{background:#1f1f1f}
.btn-primary{background:#fff;color:#111;border-color:#fff;min-height:44px}
.btn-primary:hover{filter:brightness(.96)}
.btn-ghost{background:transparent;border-color:var(--border)}
.pill{@apply inline-flex items-center px-2 py-1 rounded-lg text-xs; background:#1a1a1a;border:1px solid var(--border);color:var(--muted);min-height:32px}
.input{@apply w-full px-3 py-2 rounded-lg text-sm; background:#141414;color:var(--text);border:1px solid var(--border);min-height:44px}
.input::placeholder{color:#7a7a7a}

/* Scrollbars */
*{scrollbar-width:thin;scrollbar-color:#3a3a3a transparent}
*::-webkit-scrollbar{width:8px;height:8px}
*::-webkit-scrollbar-thumb{background:#3a3a3a;border-radius:999px}

/* Safe-area padding */
.safe-px{padding-left:max(.75rem,env(safe-area-inset-left));padding-right:max(.75rem,env(safe-area-inset-right))}
.safe-pt{padding-top:max(1rem,env(safe-area-inset-top))}
.safe-pb{padding-bottom:max(1rem,env(safe-area-inset-bottom))}

/* Compact on small phones */
body.compact header{gap:8px}
body.compact nav button{flex:1}
body.compact .input{font-size:16px} /* prevent iOS zoom */

/* Sticky action bar */
.sticky-bar{
  position:sticky;bottom:0;background:rgba(10,10,10,.9);backdrop-filter:blur(8px);
  border-top:1px solid var(--border);padding:8px;z-index:20
}
